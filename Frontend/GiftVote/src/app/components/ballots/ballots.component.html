<h2>Ballots</h2>
<div class="card">
  <p-toast />
  <p-table [value]="ballots" [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template pTemplate="header">
          <tr>
              <th>Name</th>
              <th>Action</th>
              <th style="width: 5rem"></th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-ballot>
          <tr>
              <td>{{ ballot.giftReceiverName }}</td>
              <td>

                <div *ngIf="!ballot.isUserVote">
                  <app-gift-dialog [isVisible] = "isDialogVisible" [ballot]="ballot"></app-gift-dialog>
                </div>

                <p-button *ngIf="ballot.isCurrentUserCanStopBallot && !ballot.endTime"
                label="Stop ballot" (onClick)="StopBallot(ballot.id, ballot.giftReceiverId)" severity="danger" />

                <div *ngIf="ballot.endTime">
                  <app-statistic-dialog [isResultDialogVisible] = "isResultDialogVisible" [ballotId]="ballot.id"></app-statistic-dialog>
                </div>

              </td>
          </tr>
      </ng-template>
  </p-table>
</div>
